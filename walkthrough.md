# 每週板塊輪動監測 (Weekly Sector Rotation Monitor) 使用指南

本專案旨在監測美股板塊 ETF ($XLK, $XLF 等)，並根據其相對強弱 (RS) 進行排名，協助辨識領先板塊與尋找個股機會。

## 最近更新 (2026-02-16)
- **互動式網頁報告**: 支援即時排序、過擬與搜尋功能。
- **ETF 詳細持股**: 點擊板塊代號可進入子頁面查看前十大持股 (動態偵測最新數據)。
- **手機體驗優化**: PIN 碼輸入框自動彈出數字鍵盤。
- **流程合併**: 將數據分析與網頁部署合併為單一 GitHub Action 流程，自動化更穩定。

## 安裝設定 (Setup)

1.  **安裝依賴套件**:
    ```bash
    pip install -r requirements.txt
    ```

2.  **設定 (Configuration)**:
    *   修改 `config.py` 調整分析參數。
    *   **Discord 通知**: 在 `.env` 設定 `DISCORD_WEBHOOK_URL`。
    *   **啟用 GitHub Pages (重要!!)**:
        1.  進入 GitHub 專案頁面 > **Settings** > **Pages**。
        2.  **Source** 務必選擇 **GitHub Actions** (原本可能是 Deploy from a branch)。
        3.  不需要手動選擇分支，流程會自動部署。

## 執行方式 (Run)

可以直接手動執行或透過 GitHub Actions 定時執行：
```bash
python main.py
```

## 功能詳解

### 1. 板塊排名
腳本會獲取數據並在控制台與網頁中顯示排名。
-   **綠色 (前三名)**: 相對於大盤 ($SPY/$QQQ) 最強的板塊，是尋找「第一階段底部」個股的首選。
-   **紅色 (後三名)**: 避開弱勢板塊。

### 2. 個股篩選
自動分析領先板塊中的主要成分股，篩選符合以下條件的標的：
-   **趨勢**: 價格 > 50 EMA & 21 EMA。
-   **收縮 (Coiling)**: 波動率處於壓縮狀態，預示可能即將突破。

### 3. 互動式報告範例
網頁報告包含各板塊的 4 週、12 週表現與 RS 分數，並支援：
-   **解鎖**: 使用 Discord 傳送的隨機 PIN 碼解鎖 (支援手機數字鍵盤)。
-   **下鑽 (Drill Down)**: 點擊 ETF 代號查看即時十大持股與權重。

## 定時自動化 (GitHub Actions)
系統設定為每週六凌晨 (台北時間早上) 自動執行，並透過 Discord 發送最新的報告連結與解鎖 PIN 碼。

---
*本工具僅供研究參考，不構成投資建議。*
