
<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stock Watch Tower - Weekly Monitor</title>
    
    <!-- DataTables CSS -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
    
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #1e1e1e; color: #e0e0e0; margin: 0; padding: 20px; }
        .container { max-width: 1000px; margin: 0 auto; background-color: #2d2d2d; padding: 2rem; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.3); }
        h1 { text-align: center; color: #4caf50; }
        
        /* Login Area */
        #login-area { text-align: center; margin-top: 50px; }
        input { padding: 10px; font-size: 1.2rem; border-radius: 5px; border: 1px solid #444; background: #333; color: white; width: 150px; text-align: center; }
        button { padding: 10px 20px; font-size: 1.2rem; border-radius: 5px; border: none; background-color: #4caf50; color: white; cursor: pointer; margin-left: 10px; }
        button:hover { background-color: #45a049; }
        .error { color: #ff5252; margin-top: 10px; display: none; }
        
        /* Content Area */
        #content-area { display: none; }
        
        /* Table Styles */
        table.dataTable tbody tr { background-color: #2d2d2d; color: #e0e0e0; }
        table.dataTable tbody tr:hover { background-color: #383838; }
        table.dataTable thead th { border-bottom: 1px solid #444; color: #4caf50; }
        table.dataTable td { border-bottom: 1px solid #444; }
        
        /* Links */
        a { color: #64b5f6; text-decoration: none; font-weight: bold; }
        a:hover { text-decoration: underline; }
        
        /* Utilities */
        .hidden-data { display: none; }
        .metric-pos { color: #81c784; }
        .metric-neg { color: #e57373; }
    </style>
    
    <!-- jQuery & DataTables JS -->
    <script src="https://code.jquery.com/jquery-3.7.0.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    
</head>
<body>
    <div class="container">
        <h1>üîê Weekly Sector Monitor</h1>
        
        <div id="login-area">
            <p>Please enter the 4-digit PIN to unlock.</p>
            <input type="password" id="pin-input" maxlength="4" placeholder="PIN" inputmode="numeric" pattern="[0-9]*" autofocus>
            <button onclick="unlock()">Unlock</button>
            <p class="error" id="error-msg">Incorrect PIN</p>
        </div>

        <div id="content-area">
            <h3>ÊùøÂ°äËº™ÂãïÊéíÂêç (Sector Rotation Ranking)</h3>
            <table id="sector-table" class="display" style="width:100%">
                <thead>
                    <tr>
                        <th>Rank</th>
                        <th>Ticker</th>
                        <th>Name (Chinese)</th>
                        <th>4-Week %</th>
                        <th>12-Week %</th>
                        <th>RS Score</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
            
            <hr style="margin: 30px 0; border-color: #444;">
            
            <h3>ÂÆåÊï¥Â†±Âëä (Full Report Text)</h3>
            <pre id="raw-report" style="background: #111; padding: 15px; border-radius: 5px; overflow-x: auto; font-family: Consolas;"></pre>
        </div>
    </div>
    
    <div id="encrypted-data" class="hidden-data">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BGVDBwEMBmlBCwMDBWVYaUELAwUGGRYVFAgWaUELAwUGGW55cRkWaUELAwUGGQcBGggAEBRlQwcBCQQVBggYBgEcFhVoTAQABAsWFQQXBwIFDBZpQQsDBQZlWGlBCwMEV2VDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEKVWlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMGV2VDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEKVWlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEKVWlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwELAmlaZUMHAQkEFRQZFgcUZUMHAQkEFWx1dBUUZUMHAQkEFQwXDg0RGRZpQQsDBQYZBAAaDQQQFBlqQAYMBgcUGQYbBQ8DABRlQwcBCQRpWmVDBwEIVWlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMGV2VDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEKVWlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMGV2VDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMGV2VDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMHAGVYaUELAwUGGRYVFAoWaUELAwUGGW55ZBkWaUELAwUGGQ4bAg4TFRRlQwcBCQQVBQ4YAAccFhVoTAQABAsWFQQXBwcBGRZpQQsDBQZlWGlBCwMEV2VDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEKVWlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMGV2VDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEKVWlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEKVWlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwELAmlaZUMHAQkEFRQZFgEUZUMHAQkEFWx1fxUUZUMHAQkEFQEXBgMRGRZpQQsDBQYZBwMaCAcQFBlqQAYMBgcUGQYbBAAPDRRlQwcBCQRpWmVDBwEIVWlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMGV2VDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEKVWlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMGV2VDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMGV2VDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMHAGVYaUELAwUGGRYVFAwWaUELAwUGGW55ZnwWaUELAwUGGQIbBwsTFRRlQwcBCQQVDBcHBREZFhVoTAQABAsWFQQXBgACCBZpQQsDBQZlWGlBCwMEV2VDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEKVWlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMGV2VDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEKVWlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEKVWlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwELAmlaZUMHAQkEFRQZFgMUZUMHAQkEFWx1YxUUZUMHAQkEFQIXAAYRGRZpQQsDBQYZAhsCCxMVFBlqQAYMBgcUGQYbBAwGBxRlQwcBCQRpWmVDBwEIVWlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMGV2VDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEKVWlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMGV2VDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMGV2VDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMHAGVYaUELAwUGGRYVFA4WaUELAwUGGW55YhkWaUELAwUGGQYbAAwTFRRlQwcBCQQVABcFDREZFhVoTAQABAsWFQQXBgQMCBZpQQsDBQZlWGlBCwMEV2VDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEKVWlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMGV2VDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEKVWlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEKVWlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwELAmlaZUMHAQkEFRQZFg0UZUMHAQkEFWx1dRUUZUMHAQkEFRkIGAEEHBZpQQsDBQYZBRsHABMVFBlqQAYMBgcUGQYbBAkFDBRlQwcBCQRpWmVDBwEIVWlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMGV2VDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEKVWlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMGV2VDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMGV2VDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMHAGVYaUELAwUGGRYVFAAWaUELAwUGGW55bRkWaUELAwUGGRsAGgoHEBRlQwcBCQQVBRcBDBEZFhVoTAQABAsWGAQXBgcHDxZpQQsDBQZlWGlBCwMEV2VDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEKVWlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMGV2VDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEKVWlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEKVWlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwELAmlaZUMHAQkEFRQZBwUUZUMHAQkEFWx1cBUUZUMHAQkEFRkMGAUEHBZpQQsDBQYZBhsDDRMVFBlqQAYMBgcUFAYbBAsBBhRlQwcBCQRpWmVDBwEIVWlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMGV2VDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEKVWlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMGV2VDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMGV2VDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMFBGVDBwEJBmlBCwMHAGVYaUELAwUGGRYVBQgWaUELAwUGGW55fxkWaUELAwUGGRsBGgkAEBRlQwcBCQQVGQgYAQAcFhVoTAQABAsWGAQXBgYHDBZpQQsDBQZlWGlBCwMADGVDBwEMBmlBCwMABGVDBwEMBmlBCwMABGVDBwEMBmlBCwMABGVDBwEPAWlBCwMABGVDBwEMBmlBCwMABGVDBwEMBmlBCwMABGVDBwEMBmlBCwMDA2VDBwEMBmlBCwMABGVDBwEMBmlBCwMABGVDBwEMBmlBCwMABGVDBwEMBmlBCwMABGVDBwEPAWlBCwMABGVDBwEMBmlBCwMABGVDBwEMBmlBCwMABGVDBwEMBmlBCwMABGVDBwEMBmlBCwMABGVDBwEPAWlBCwMABGVDBwEMBmlBCwMABGVDBwEMBmlBCwMABGVDBwEMBmlBCwMABGVDBwEMBmlBCwMABGVDBwEMVGlaZVhpQQwEAVBlQwFRCQ9pQQwCBVBlQ1NSCFdpQQADUVdlQwNXXA5pQQwFAQRlQwADXVAVHH9ZVkFKFnRGXFccaFdqQAFfDlZoTAJQBABqQAENBlFoTFBTBVhqQA0JAVNoTAMEAF0ZaUEAU1EFZUMAAAlSaUEMA1RRGR50QlZfURt7WlRXUlpcR00faVplWGlBAA4EDGVDAAUNDmlBDwECUmVDAAwNV2lBDAYFVmVDDQRYB2lBDlRQDWVDDAQODhUcbVlFFGpTVkBWRBVnTVlWXxllVkZcU1sdZVhpQQ5UUA1lQwwEDg5pQQ9XBA1lQwNRAAAPFGVDAARfD2lBDw4GVxkIFQEJc3h1GRAVBghzeHUZHmlBAVJUDGVDAAZcBBwYGWpAAlpTB2hMAwdQDGpAAgwFA2hMAVAGXBYdd1ZfWV1XURxoVwsICQQLCAkECwgJBAsICQQLCAkECwgJBAsICQQLCAkECwgJBAsICQQLCAkECwgJBAsICQQLCAkECwgJBGpbaFdqQAIOAVNoTAMNAFgMFWx1c2labV9WX1xEFRQZFmFGXFhRFBkWFWJWWhUUGRYVYlZaFRFlWBgZFBsYGRQbFRQUGxgZFBsYFBkbGBkUGxgUGRsYGRQbGBllWG17dBYVFBkWFRR2FhUUGRYVFBl4WkZUV1kUGQQbBgATaVp6YG0UGRYVFBkWehQZFhUUGRYVelZEWFVVFhUFFwAEEWVYdntpFhUUGRYVFHYWFRQZFhUUGXhaRlRXWRQZBBsEDxNpWnx5chQZFhUUGRZ6FBkWFRQZFhV6VkRYVVUWFQYXAg0RZVhmeHsWFRQZFhUUdhYVFBkWFRQZeFpGVFdZFBkEGwEKE2ladGZ2FBkWFRQZFnoUGRYVFBkWFXpWRFhVVRYVBxcEABFlWGVnYRYVFBkWFRR2FhUUGRYVFBl4WkZUV1kUGQQbAgsTaVpvenoUGRYVFBkWehQZFhUUGRYVelZEWFVVFhUGFw4FEWVYemxgFhUUGRYVFHYWFRQZFhUUGXhaRlRXWRQZBBsBCxNpWm57dxQZFhUUGRZ6FBkWFRQZFhV6VkRYVVUWFQYXAQcRZVhpWmVDAwMOUGlBDA4BVQMWbXh7altgUFVeUUsWFRQZYkdRV1IVFBkWY1tVFhUUGRZjW1UWEGhXGxgZFBsYGRQWFRkUGxgZFBsVFBQbGBkUGxUUFBsYGRQbGGhXenx6GRYVFBkWFXsZFhUUGRYVFHdZR1lYWhUUCxgABxxqW2dxYRUUGRYVFBl5FRQZFhUUGRZ7W0tbVFgZFgQaAQUQaFdwdmwZFhUUGRYVexkWFRQZFhUUd1lHWVhaFRQNGAMBHGpbdWlyFRQZFhUUGXkVFBkWFRQZFntbS1tUWBkWBxoPABBoV3N2eBkWFRQZFhV7GRYVFBkWFRR3WUdZWFoVFAsYAgQcalt6fHsVFBkWFRQZeRUUGRYVFBkWe1tLW1RYGRYBGgsHEGhXcnpjGRYVFBkWFXsZFhUUGRYVFHdZR1lYWhUUDRgADRxqW3dtYHQUGRYVFBl5FRQZFhUUGRZ7W0tbVFgZFgcaCA4QaFdmZXMZFhUUGRYVexkWFRQZFhUUd1lHWVhaFRQIGAwAHGpbaFdqQAIOAVNoTAMNAFgMFWx1ZmlabV9WX1xEFRQZFmFGXFhRFBkWFWJWWhUUGRYVYlZaFRFlWBgZFBsYGRQbFRQUGxgZFBsYFBkbGBkUGxgUGRsYGRQbGBllWGVzGRYVFBkWFRR2FhUUGRYVFBl4WkZUV1kUGQQbBAkTaVp6eWZgGRYVFBkWehQZFhUUGRYVelZEWFVVFhUGFwMNEWVYZXFpFhUUGRYVFHYWFRQZFhUUGXhaRlRXWRQZBBsACBNpWm57YRQZFhUUGRZ6FBkWFRQZFhV6VkRYVVUWFQYXAQYRZVh+exkWFRQZFhUUdhYVFBkWFRQZeFpGVFdZFBkEGwUME2laaXsVFBkWFRQZFnoUGRYVFBkWFXpWRFhVVRYVBhcDAhFlWHhwdWwVFBkWFRR2FhUUGRYVFBl4WkZUV1kUGQQbAAkTaVp6ehUUGRYVFBkWehQZFhUUGRYVelZEWFVVFhUGFwYFEWVYeHsZFhUUGRYVFHYWFRQZFhUUGXhaRlRXWRQZBBsBDhNpWm1xYRQZFhUUGRZ6FBkWFRQZFhV6VkRYVVUWFQYXDw0RG0s=</div>

    <script>
        function unlock() {
            const pin = document.getElementById('pin-input').value;
            const encryptedData = document.getElementById('encrypted-data').innerText;
            const errorMsg = document.getElementById('error-msg');
            
            try {
                const decryptedJSON = simple_decrypt(encryptedData, pin);
                const data = JSON.parse(decryptedJSON);
                
                // If parse successful, show content
                document.getElementById('login-area').style.display = 'none';
                document.getElementById('content-area').style.display = 'block';
                
                // Set session storage for detail pages
                sessionStorage.setItem('unlocked', 'true');
                
                // Populate Raw Report
                document.getElementById('raw-report').innerText = data.report_text;
                
                // Populate Table
                const tableBody = document.querySelector('#sector-table tbody');
                data.sectors.forEach(sector => {
                    const tr = document.createElement('tr');
                    
                    const p4Class = sector.perf_4w >= 0 ? 'metric-pos' : 'metric-neg';
                    const p12Class = sector.perf_12w >= 0 ? 'metric-pos' : 'metric-neg';
                    const scoreClass = sector.score > 0 ? 'metric-pos' : 'metric-neg';
                    
                    tr.innerHTML = `
                        <td>${sector.rank}</td>
                        <td><a href="pages/${sector.ticker}.html">${sector.ticker}</a></td>
                        <td>${sector.name}</td>
                        <td class="${p4Class}">${(sector.perf_4w * 100).toFixed(2)}%</td>
                        <td class="${p12Class}">${(sector.perf_12w * 100).toFixed(2)}%</td>
                        <td class="${scoreClass}"><strong>${sector.score.toFixed(4)}</strong></td>
                    `;
                    tableBody.appendChild(tr);
                });
                
                // Initialize DataTables
                $('#sector-table').DataTable({
                    paging: false,
                    searching: true,
                    info: false,
                    order: [[ 0, "asc" ]] // Sort by Rank by default
                });
                
                errorMsg.style.display = 'none';
                
            } catch (e) {
                errorMsg.style.display = 'block';
                console.error(e);
            }
        }

        function simple_decrypt(base64Text, pin) {
            const encryptedBytes = Uint8Array.from(atob(base64Text), c => c.charCodeAt(0));
            const encoder = new TextEncoder();
            const pinBytes = encoder.encode(pin);
            const keyBytes = new Uint8Array(encryptedBytes.length);
            
            for (let i = 0; i < encryptedBytes.length; i++) {
                keyBytes[i] = pinBytes[i % pinBytes.length];
            }
            
            const decryptedBytes = new Uint8Array(encryptedBytes.length);
            for (let i = 0; i < encryptedBytes.length; i++) {
                decryptedBytes[i] = encryptedBytes[i] ^ keyBytes[i];
            }
            
            const decoder = new TextDecoder();
            return decoder.decode(decryptedBytes);
        }
        
        // Auto-login via session
        if (sessionStorage.getItem('unlocked')) {
             // We can't auto-decrypt because we don't store the PIN in session for security (or maybe we could?)
             // Actually, if we want auto-show, we'd need the PIN. 
             // Let's just focus on the 'Enter PIN' UX for now, it's safer.
             // But we authorize detail pages if this main page was unlocked once? 
             // The detail pages check sessionStorage. 
             // But to view THIS page again, you need to decrypt data again.
             // Unless we store the DECRYPTED key or PIN in sessionStorage.
             // Let's store the PIN in sessionStorage temporarily for convenience.
             const storedPin = sessionStorage.getItem('session_pin');
             if (storedPin) {
                 document.getElementById('pin-input').value = storedPin;
                 // Ideally trigger unlock automatically, but we need the DOM to be ready.
                 // We'll let user click or hit enter, prepopulating is helpful enough.
             }
        }
        
        document.getElementById('pin-input').addEventListener('keypress', function (e) {
            if (e.key === 'Enter') {
                unlock();
                sessionStorage.setItem('session_pin', document.getElementById('pin-input').value);
            }
        });
        
        // Also save pin on click
        document.querySelector('button').addEventListener('click', function() {
             sessionStorage.setItem('session_pin', document.getElementById('pin-input').value);
        });
    </script>
</body>
</html>
    